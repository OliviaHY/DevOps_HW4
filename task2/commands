config.vm.network "public_network", bridge: "en0: Wi-Fi (AirPort)"

curl -sSL https://get.docker.com/ | sh

sudo -i
curl -L https://github.com/docker/compose/releases/download/1.5.1/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

host1, IP:10.139.56.55
docker run -d --name redis crosbymichael/redis
docker run -d --link redis:redis --name redis_ambassador -p 6379:6379 svendowideit/ambassador


redis:
  image: crosbymichael/redis
  container_name: "redis"
redis_ambassador:
  image: svendowideit/ambassador
  container_name: "redis_ambassador"
  ports:
   - "6379:6379"
  links:
   - redis:redis


host2. IP:10.139.59.0
docker run -d --name redis_ambassador --expose 6379 -e REDIS_PORT_6379_TCP=tcp://10.139.56.55:6379 svendowideit/ambassador
docker run -i -t --rm --link redis_ambassador:redis relateiq/redis-cli

redis_ambassador:
  container_name: "redis_ambassador"
  image: svendowideit/ambassador
  expose:
   - "6379"
  environment:
   REDIS_PORT_6379_TCP: tcp://10.139.56.55:6379

client:
  container_name: "client"
  image: relateiq/redis-cli
  links:
   - redis_ambassador:redis

sudo docker stop $(sudo docker ps -a -q)
sudo docker rm $(sudo docker ps -a -q)

host1:
sudo sudo docker-compose up -d 

sudo docker-compose up -d redis_ambassador
sudo docker-compose run client


